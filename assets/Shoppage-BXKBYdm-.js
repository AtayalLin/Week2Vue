import{_ as w,c as d,a as t,F as v,f as x,t as a,e as h,o as l,r as p,b as $,w as k,v as C,g,h as y,i as q}from"./index-BjJFxDfQ.js";const I={class:"card shadow-sm p-4 h-100"},N={class:"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4"},T={class:"card h-100 border-0 shadow-sm rounded-3 overflow-hidden product-card"},Q={class:"card-body text-center d-flex flex-column"},j={class:"card-title text-primary fw-bold"},F={class:"card-text text-muted flex-grow-1"},O={class:"mt-auto"},V={class:"h6 fw-bold text-success mb-2"},B=["onClick"],A={__name:"Menu",props:{products:{type:Array,required:!0}},emits:["add-to-cart"],setup(i){return(u,s)=>(l(),d("div",I,[s[2]||(s[2]=t("h4",{class:"card-title text-center text-secondary mb-4"},"飲品選單",-1)),t("div",N,[(l(!0),d(v,null,x(i.products,r=>(l(),d("div",{key:r.id,class:"col"},[t("div",T,[s[1]||(s[1]=t("div",{class:"product-img-placeholder bg-light d-flex align-items-center justify-content-center text-muted"},[t("i",{class:"bi bi-cup-hot-fill fs-2"})],-1)),t("div",Q,[t("h5",j,a(r.name),1),t("p",F,a(r.description),1),t("div",O,[t("p",V,"NT$ "+a(r.price),1),t("button",{onClick:c=>u.$emit("add-to-cart",r),class:"btn btn-primary btn-sm rounded-pill w-100"},s[0]||(s[0]=[t("i",{class:"bi bi-cart-plus me-1"},null,-1),h(" 加入購物車 ",-1)]),8,B)])])])]))),128))])]))}},M=w(A,[["__scopeId","data-v-58abf533"]]),S={class:"card shadow-sm p-4 h-100 d-flex flex-column"},D={class:"flex-grow-1"},P={key:0},U={class:"list-group list-group-flush mb-3"},E={class:"mb-0 fw-bold text-dark"},L={class:"text-muted"},R={class:"d-flex align-items-center"},z=["value","onChange"],G=["onClick"],H={class:"d-flex justify-content-between fw-bold fs-5 mt-4 pt-2 border-top"},J={key:1,class:"text-center text-muted py-5"},K={class:"mt-auto pt-3 border-top"},W={class:"mb-3"},X=["disabled"],Y={__name:"Cart",props:{cartItems:{type:Array,required:!0}},emits:["removeFromCart","updateQuantity","submitOrder"],setup(i,{emit:u}){const s=i,r=u,c=p(""),b=$(()=>s.cartItems.reduce((n,e)=>n+e.price*e.quantity,0)),_=(n,e)=>{const o=parseInt(e,10);o>0&&r("updateQuantity",{id:n,quantity:o})},f=()=>{r("submitOrder",{notes:c.value}),c.value=""};return(n,e)=>(l(),d("div",S,[e[5]||(e[5]=t("h4",{class:"card-title text-center text-secondary mb-4"},"我的訂單",-1)),t("div",D,[i.cartItems.length>0?(l(),d("div",P,[t("ul",U,[(l(!0),d(v,null,x(i.cartItems,o=>(l(),d("li",{key:o.id,class:"list-group-item d-flex justify-content-between align-items-center px-0"},[t("div",null,[t("h6",E,a(o.name),1),t("small",L,"NT$ "+a(o.price),1)]),t("div",R,[t("input",{type:"number",value:o.quantity,min:"1",class:"form-control form-control-sm text-center mx-2",style:{width:"60px"},onChange:m=>_(o.id,m.target.value)},null,40,z),t("button",{onClick:m=>n.$emit("removeFromCart",o.id),class:"btn btn-outline-danger btn-sm rounded-pill"}," 移除 ",8,G)])]))),128))]),t("div",H,[e[1]||(e[1]=t("span",null,"總計",-1)),t("span",null,"NT$ "+a(b.value),1)])])):(l(),d("div",J,e[2]||(e[2]=[t("i",{class:"bi bi-cart-x fs-1 mb-2"},null,-1),t("p",null,"購物車是空的",-1)])))]),t("div",K,[t("div",W,[e[3]||(e[3]=t("label",{for:"order-notes",class:"form-label text-muted"},"備註",-1)),k(t("textarea",{id:"order-notes","onUpdate:modelValue":e[0]||(e[0]=o=>c.value=o),class:"form-control rounded-3",rows:"3",placeholder:"輸入備註..."},null,512),[[C,c.value]])]),t("button",{onClick:f,disabled:i.cartItems.length===0,class:"btn btn-success rounded-pill w-100 fw-bold"},e[4]||(e[4]=[t("i",{class:"bi bi-check-circle me-1"},null,-1),h(" 送出訂單 ",-1)]),8,X)])]))}},Z={class:"card shadow-sm p-4 bg-light"},tt={class:"list-group list-group-flush mb-3"},et={class:"text-dark"},st={class:"text-success fw-bold"},ot={key:0,class:"alert alert-info py-2 my-3 rounded-3"},rt={class:"d-flex justify-content-between fw-bold fs-4 pt-2 border-top border-secondary"},nt={class:"text-success"},lt={__name:"Order",props:{order:{type:Object,required:!0}},setup(i){return(u,s)=>(l(),d("div",Z,[s[2]||(s[2]=t("h5",{class:"card-title text-center text-success mb-4 fw-bold"},"已送出訂單",-1)),t("ul",tt,[(l(!0),d(v,null,x(i.order.drinks,r=>(l(),d("li",{key:r.id,class:"list-group-item d-flex justify-content-between align-items-center bg-transparent px-0"},[t("span",et,a(r.name)+" x "+a(r.quantity),1),t("span",st,"NT$ "+a(r.price*r.quantity),1)]))),128))]),i.order.remark?(l(),d("div",ot,[t("small",null,[s[0]||(s[0]=t("span",{class:"fw-bold"},"備註:",-1)),h(" "+a(i.order.remark),1)])])):g("",!0),t("div",rt,[s[1]||(s[1]=t("span",null,"總金額",-1)),t("span",nt,"NT$ "+a(i.order.sum),1)])]))}},dt={id:"app",class:"bg-light min-vh-100 p-4"},it={class:"container py-5"},at={class:"row g-4"},ct={class:"col-lg-7"},ut={class:"col-lg-5"},pt={__name:"Shoppage",setup(i){const u=p([{id:1,name:"珍珠奶茶",description:"香濃奶茶搭配QQ珍珠",price:50},{id:2,name:"冬瓜檸檬",description:"清新冬瓜配上新鮮檸檬",price:45},{id:3,name:"翡翠檸檬",description:"綠茶與檸檬的完美結合",price:55},{id:4,name:"四季春茶",description:"香醇四季春茶，回甘無比",price:45},{id:5,name:"阿薩姆奶茶",description:"阿薩姆紅茶搭配香醇鮮奶",price:50},{id:6,name:"檸檬冰茶",description:"檸檬與冰茶的清新組合",price:45},{id:7,name:"芒果綠茶",description:"芒果與綠茶的獨特風味",price:55},{id:8,name:"抹茶拿鐵",description:"抹茶與鮮奶的絕配",price:60}]),s=p([]),r=p(null),c=n=>{const e=s.value.find(o=>o.id===n.id);e?e.quantity++:s.value.push({...n,quantity:1})},b=n=>{s.value=s.value.filter(e=>e.id!==n)},_=({id:n,quantity:e})=>{const o=s.value.find(m=>m.id===n);o&&(o.quantity=e)},f=({notes:n})=>{r.value={drinks:s.value,remark:n,sum:s.value.reduce((e,o)=>e+o.price*o.quantity,0)},s.value=[]};return(n,e)=>(l(),d("div",dt,[t("div",it,[e[0]||(e[0]=t("h2",{class:"text-center text-primary mb-5 fw-bold"},"飲料訂單管理系統",-1)),t("div",at,[t("div",ct,[y(M,{products:u.value,onAddToCart:c},null,8,["products"])]),t("div",ut,[y(Y,{cartItems:s.value,onRemoveFromCart:b,onUpdateQuantity:_,onSubmitOrder:f},null,8,["cartItems"]),r.value?(l(),q(lt,{key:0,order:r.value,class:"mt-4"},null,8,["order"])):g("",!0)])])])]))}};export{pt as default};
